using UnityEditor;
using UnityEngine;
using Com.AlphaPotato.Utility;

[CustomEditor(typeof(#SCRIPTNAME#))]
public class #SCRIPTNAME#Editor : APEditor
{
    private #SCRIPTNAME# scriptReference;

    //All SerializedProperties
    #ALL_PUBLIC_PROPERTIES#

    bool drawProperties = true;
    public void OnEnable()
    {
        scriptReference = (#SCRIPTNAME#)target;
        #ALL_PUBLIC_PROPERTIES_FINDER#
    }

    public override void OnInspectorGUI()
    {
        serializedObject.Update();

        if (!drawProperties)
        {

            Space();
            DrawHorizontalLine();
            OnButtonPressed("Draw Properties",
                () =>
                {
                    drawProperties = !drawProperties;
                });
        }
        else
        {
            #DrawProperty(propertyName)#

            Space();
            DrawHorizontalLine();
            OnButtonPressed("Hide Properties",
                () =>
                {
                    drawProperties = !drawProperties;
                },
                new EditorButtonStyle
                {
                    buttonColor = Color.yellow,
                    buttonTextColor = Color.red
                });
        }

        serializedObject.ApplyModifiedProperties();
    }
}